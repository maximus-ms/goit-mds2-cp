# Audio Dataset Preprocessor Configuration
# Copy this file to .env and modify as needed
# The .env file will be automatically loaded if python-dotenv is installed

# Output file name (default: dataset.pt)
# This will be used as the default output filename when processing datasets
DEFAULT_DATASET_FILE=dataset.pt

# Target sample rate in Hz (default: 16000)
# All audio files will be validated against this sample rate
DATASET_TARGET_SR=16000

# Triplet Memory Dataset Configuration
# Duration of audio chunks in seconds (default: 1.0)
# Used for triplet loss training
TRIPLET_DURATION_SEC=1.0

# Number of triplets to generate per epoch (default: 5000)
# Higher values provide more diverse samples but require more memory
TRIPLET_SAMPLES_PER_EPOCH=5000

# Ratio of abnormal samples to use as negatives (default: 0.5)
# Range: 0.0 to 1.0
# 0.0 = only use different machine IDs as negatives
# 1.0 = only use abnormal samples from same machine as negatives
TRIPLET_ABNORMAL_RATIO=0.5

# Model Configuration
# Embedding dimension for TinyAudioCNN (default: 64)
# This determines the size of the output embedding vector
MODEL_EMBEDDING_DIM=64

# Early Stopping Configuration
# Number of epochs without improvement before stopping (default: 10)
EARLY_STOPPING_PATIENCE=10

# Minimum change to qualify as an improvement (default: 0.0)
# Set to a small positive value (e.g., 0.001) to require meaningful improvement
EARLY_STOPPING_MIN_DELTA=0.0

# Minimum loss threshold to stop training (default: None)
# Training will stop if loss reaches or goes below this value
# Set to None to disable threshold-based stopping
EARLY_STOPPING_MIN_LOSS=

# Mode: 'min' for minimizing loss, 'max' for maximizing metric (default: min)
EARLY_STOPPING_MODE=min

# Print early stopping information (default: true)
EARLY_STOPPING_VERBOSE=true

# Restore best weights when stopping (default: true)
EARLY_STOPPING_RESTORE_BEST_WEIGHTS=true

# Training Configuration
# MLflow tracking URI (default: http://localhost:5000)
MLFLOW_TRACKING_URI=http://localhost:5000

# MLflow experiment name (default: MIMII_Triplet_Training)
MLFLOW_EXPERIMENT_NAME=MIMII_Triplet_Training

# MinIO/S3 Configuration for MLflow Artifacts
# S3 endpoint URL (for MinIO or custom S3-compatible storage)
# Example: http://localhost:9000
MLFLOW_S3_ENDPOINT_URL=http://localhost:9000

# AWS credentials (used for MinIO authentication)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# Ignore TLS verification for S3 endpoint (default: false)
# Set to true if using self-signed certificates
MLFLOW_S3_IGNORE_TLS=false

# Directory for saving models (default: models)
MODELS_DIR=models

# Batch size for training (default: 64)
TRAIN_BATCH_SIZE=64

# Number of training epochs (default: 30)
TRAIN_EPOCHS=30

# Triplet loss margin (default: 1.0)
TRAIN_MARGIN=1.0

# Learning rate (default: 0.001)
TRAIN_LEARNING_RATE=0.001

# Enable early stopping (default: true)
EARLY_STOPPING_ENABLED=true

# Model Testing/Validation Configuration
# RMS threshold for silence filtering during validation (default: 0.005)
# Used to filter out silent audio chunks during model testing
TEST_RMS_THRESHOLD=0.005

